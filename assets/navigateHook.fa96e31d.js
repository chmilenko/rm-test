import{W as n,u as h}from"./entry.994ecda1.js";const d=n("rm-store",{state:()=>({data:{},charactersInfo:[],page:1,oneEpisode:{},oneCharacter:{},location:{},pagination:20}),actions:{async fetchData(){const t=await fetch("https://rickandmortyapi.com/api/",{method:"GET"});this.data=await t.json()},async getCharacters(t){const a=new URL(this.data.characters),e={page:this.page};a.search=new URLSearchParams(e).toString();const o=await(await fetch(a,{method:"GET"})).json();if(setTimeout(()=>{this.charactersInfo=[...this.charactersInfo,...o.results]},1e3),t)for(let s=0;s<t.length;s++){const c=this.charactersInfo.filter(r=>r.id===t[s].split("/").pop());await this.getCharacter(c),setTimeout(()=>{this.charactersInfo=[...this.charactersInfo,this.oneCharacter]},1e3)}},async getEpisode(t){const a=await fetch(`${this.data.episodes}/${t}`,{method:"GET"});this.oneEpisode=await a.json()},async getCharacter(t){const a=await fetch(`${this.data.characters}/${t}`,{method:"GET"});this.oneCharacter=await a.json()},async getLocation(t){const a=await fetch(`${this.data.locations}/${t}`,{method:"GET"});this.location=await a.json()},async fetchNextPage(){this.page++,await this.getCharacters()},async scrollLocationResidents(){this.pagination+=20,await this.getCharacters()}}});function f(){const t=h();return{navigate:async(e,i,o)=>{try{let s=e;e.length>1&&(s=e.split("/").pop()),await o(s),t.push(`${i}-${s}`)}catch(s){console.error(s)}}}}export{f as a,d as u};
